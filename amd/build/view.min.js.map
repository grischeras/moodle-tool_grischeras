{"version":3,"file":"view.min.js","sources":["../src/view.js"],"sourcesContent":["import Ajax from 'core/ajax';\nimport * as notification from 'core/notification';\n\nconst deleteAction = (itemId) => {\n      let element = document.getElementById(itemId);\n      notification.confirm('Are you sure?', function () {\n          Ajax.call([{\n              methodname: 'tool_grischeras_delete_item',\n              args: {itemid: itemId}\n          }])[0].done(() => {\n              // Delete item container from html.\n              element.parentNode.parentNode.remove();\n          });\n      });\n};\n\nexport const init = () => {\n   document.addEventListener('click', event => {\n        let element = event.srcElement;\n        let requestedaction = element.dataset.action;\n        let itemId = element.id;\n        switch (requestedaction) {\n         case 'delete':\n            event.preventDefault();\n            deleteAction(itemId);\n            break;\n        }\n   });\n};\n"],"names":["document","addEventListener","event","element","srcElement","requestedaction","dataset","action","itemId","id","preventDefault","getElementById","notification","confirm","call","methodname","args","itemid","done","parentNode","remove","deleteAction"],"mappings":"msCAgBoB,KACjBA,SAASC,iBAAiB,SAASC,YAC1BC,QAAUD,MAAME,WAChBC,gBAAkBF,QAAQG,QAAQC,OAClCC,OAASL,QAAQM,MAEf,WADEJ,gBAEJH,MAAMQ,iBApBIF,CAAAA,aACZL,QAAUH,SAASW,eAAeH,QACtCI,aAAaC,QAAQ,iBAAiB,yBAC7BC,KAAK,CAAC,CACPC,WAAY,8BACZC,KAAM,CAACC,OAAQT,WACf,GAAGU,MAAK,KAERf,QAAQgB,WAAWA,WAAWC,gBAahCC,CAAab"}